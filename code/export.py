file -f -new;
optionVar -sv colorManagementColorPickerColorSpaceSelection "Rendering Space";
optionVar -iv colorManagementColorPickerColorMgtEnabled 1;
optionVar -sv colorManagementColorPickerColorSpaceSelection "Rendering Space";
optionVar -iv colorManagementColorPickerColorMgtEnabled 1;
// untitled // 
commandPort -securityWarning -name commandportDefault;
// AbcExport v1.0 using Alembic 1.5.4 (built May  8 2014 13:47:10)
// AbcImport v1.0 using Alembic 1.5.4 (built May  8 2014 13:47:10)
// BifrostMain plug-in loaded (built Mar 18 2016 06:47:39)
// XMD Maya Import (C) NaturalMotion 2016 - build 5.0.2.0 - [Mar 21 2016:16:39:43]
// XMD Maya Exporter (C) NaturalMotion 2016 - build 5.0.2.0 - [Mar 21 2016:16:39:43]
updateRendererUI;
file -f -options "v=0;"  -ignoreVersion  -typ "mayaAscii" -o "R:/JX4_SourceData/Animation/Characters/MaleAdult_maya/HitReaction/00/ANIM_MA_bakB2FHey01_00.ma";addRecentFile("R:/JX4_SourceData/Animation/Characters/MaleAdult_maya/HitReaction/00/ANIM_MA_bakB2FHey01_00.ma", "mayaAscii");
closeAllNodeEditors;
closeHypershade;
updateRendererUI;
+++++++ Turtle for Maya registered successfully ++++++
updateRenderOverride;
optionVar -sv colorManagementColorPickerColorSpaceSelection "Rendering Space";
optionVar -iv colorManagementColorPickerColorMgtEnabled 1;
// Error: file: R:/JX4_SourceData/Graphics/Characters/Human/MaleAdult/Soldier/CHAR_soldier_v1_RIG.ma line 11: Unknown Maya file version: 2016ff07. // 
// Error: file: R:/JX4_SourceData/Graphics/Characters/Human/MaleAdult/Soldier/Models/soldier_v1_GEO.ma line 5: Unknown Maya file version: 2016ff07. // 
// Read 4 files in  5.2 seconds.
# pymel.core : Updating pymel with pre-loaded plugins: mayaHIK, GamePipeline, CloudImportExport, tiffFloatReader, bifrostvisplugin, studioImport, ikSpringSolver, ik2Bsolver, xgenToolkit, AbcExport, retargeterNodes, gameFbxExporter, VectorRender, AutodeskPacketFile, OpenEXRLoader, Unfold3D, mayaCharacterization, modelingToolkit, MayaMuscle, rotateHelper, DirectConnect, matrixNodes, AbcImport, BifrostMain, MayaXMDImportPlugin2016, autoLoader, sceneAssembly, gpuCache, Substance, OneClick, Turtle, shaderFXPlugin, bifrostshellnode, ArubaTessellator, stereoCamera, xgenMR, quatNodes, MayaXMDExportPlugin2016, fbxmaya
"Hi GUOYING1! The rig is ready for animation!" - HiGGiE
optionVar -sv colorManagementColorPickerColorSpaceSelection "Rendering Space";
optionVar -iv colorManagementColorPickerColorMgtEnabled 1;
currentTime 42 ;
currentTime 3 ;
select -r inputFile:maleAdultv1RIG:c_M_pivot_v1_CTRL ;
select -r inputFile:maleAdultv1RIG:c_M_master_v1_CTRL ;
currentTime 3 ;
select -cl  ;
// Error: line 1: Syntax error: unexpected end * at position 4 while parsing:
    mc.*
       ^
: mc.* // 
import maya.cmds as mc
import json
import os
working_directory = 'R:\JX4_SourceData\Animation\Characters\MaleAdult_maya\Json_pose'
os.makedirs(working_directory)
os.chdir(working_directory)
print os.getcwd()
R:\JX4_SourceData\Animation\Characters\MaleAdult_maya\Json_pose
print os.path.filename(os.path.dirname(path))
# Error: line 1: 'module' object has no attribute 'filename'
# Traceback (most recent call last):
#   File "<maya console>", line 1, in <module>
# AttributeError: 'module' object has no attribute 'filename' # 
import maya.cmds as mc
import json
import os
working_directory = 'R:\JX4_SourceData\Animation\Characters\MaleAdult_maya\Json_pose'
os.makedirs(working_directory)
os.chdir(working_directory)
print os.getcwd()
filepath = cmds.file(q=True, sn=True)
print fielpath
# Error: line 1: 183
# Traceback (most recent call last):
#   File "<maya console>", line 5, in <module>
#   File "C:\Program Files\Autodesk\Maya2016\bin\python27.zip\os.py", line 157, in makedirs
#     mkdir(name, mode)
# WindowsError: [Error 183] : 'R:\\JX4_SourceData\\Animation\\Characters\\MaleAdult_maya\\Json_pose' # 
#os.chdir(working_directory)
print os.getcwd()
filepath = cmds.file(q=True, sn=True)
print fielpath


R:\JX4_SourceData\Animation\Characters\MaleAdult_maya\Json_pose
# Error: line 1: name 'fielpath' is not defined
# Traceback (most recent call last):
#   File "<maya console>", line 4, in <module>
# NameError: name 'fielpath' is not defined # 
#os.makedirs(working_directory)
#os.chdir(working_directory)
print os.getcwd()
filepath = cmds.file(q=True, sn=True)
print filepath
R:\JX4_SourceData\Animation\Characters\MaleAdult_maya\Json_pose
R:/JX4_SourceData/Animation/Characters/MaleAdult_maya/HitReaction/00/ANIM_MA_bakB2FHey01_00.ma
// Error: line 1: Syntax error: unexpected end * at position 2 while parsing:
    .*
     ^
: .* // 
// Error: line 1: Syntax error: unexpected end s* at position 2 while parsing:
    .s*
     ^^
: .s* // 
// Error: line 1: Syntax error: unexpected end sp* at position 2 while parsing:
    .sp*
     ^^^
: .sp* // 
// Error: line 1: Syntax error: unexpected end spl* at position 2 while parsing:
    .spl*
     ^^^^
: .spl* // 
// Error: line 1: Syntax error: unexpected end spli* at position 2 while parsing:
    .spli*
     ^^^^^
: .spli* // 
// Error: line 1: Syntax error: unexpected end split* at position 2 while parsing:
    .split*
     ^^^^^^
: .split* // 
// Error: line 1: Syntax error: unexpected end 1 at position 1 while parsing:
    1*
    ^
: 1* // 
// Error: line 1: Syntax error: unexpected end * at position 2 while parsing:
    .*
     ^
: .* // 
// Error: line 1: Syntax error: unexpected end s* at position 2 while parsing:
    .s*
     ^^
: .s* // 
// Error: line 1: Syntax error: unexpected end sp* at position 2 while parsing:
    .sp*
     ^^^
: .sp* // 
// Error: line 1: Syntax error: unexpected end spl* at position 2 while parsing:
    .spl*
     ^^^^
: .spl* // 
// Error: line 1: Syntax error: unexpected end spli* at position 2 while parsing:
    .spli*
     ^^^^^
: .spli* // 
// Error: line 1: Syntax error: unexpected end split* at position 2 while parsing:
    .split*
     ^^^^^^
: .split* // 
// Error: line 1: Syntax error: unexpected end split* at position 2 while parsing:
    .split*
     ^^^^^^
: .split* // 
// Error: line 1: Syntax error: unexpected end split* at position 2 while parsing:
    .split*
     ^^^^^^
: .split* // 
// Error: line 1: Syntax error: unexpected end split* at position 2 while parsing:
    .split*
     ^^^^^^
: .split* // 
// Error: line 1: Syntax error: unexpected end split* at position 2 while parsing:
    .split*
     ^^^^^^
: .split* // 
// Error: line 1: Syntax error: unexpected end * at position 2 while parsing:
    .*
     ^
: .* // 
// Error: line 1: Syntax error: unexpected end * at position 2 while parsing:
    .*
     ^
: .* // 
// Error: line 1: Syntax error: unexpected end * at position 2 while parsing:
    .*
     ^
: .* // 
// Error: line 1: Syntax error: unexpected end 0 at position 1 while parsing:
    0*
    ^
: 0* // 
filepath = cmds.file(q=True, sn=True).split('/')[-1].split['.'][0]
print filepath
# Error: line 1: 'builtin_function_or_method' object has no attribute '__getitem__'
# Traceback (most recent call last):
#   File "<maya console>", line 1, in <module>
# TypeError: 'builtin_function_or_method' object has no attribute '__getitem__' # 
// Error: line 1: Syntax error: unexpected end 1 at position 1 while parsing:
    1*
    ^
: 1* // 
filepath = cmds.file(q=True, sn=True).split('/')[-1]
print filepath
ANIM_MA_bakB2FHey01_00.ma
// Error: line 1: Syntax error: unexpected end 0 at position 1 while parsing:
    0*
    ^
: 0* // 
filepath = cmds.file(q=True, sn=True).split('/')[-1].split['.'][0]
print filepath
# Error: line 1: 'builtin_function_or_method' object has no attribute '__getitem__'
# Traceback (most recent call last):
#   File "<maya console>", line 1, in <module>
# TypeError: 'builtin_function_or_method' object has no attribute '__getitem__' # 
// Error: line 1: Syntax error: unexpected end 0 at position 1 while parsing:
    0*
    ^
: 0* // 
// Error: line 1: Syntax error: unexpected end 1 at position 1 while parsing:
    1*
    ^
: 1* // 
// Error: line 1: Syntax error: unexpected end * at position 10 while parsing:
    filepath.*
             ^
: filepath.* // 
// Error: line 1: Syntax error: unexpected end s* at position 10 while parsing:
    filepath.s*
             ^^
: filepath.s* // 
// Error: line 1: Syntax error: unexpected end sp* at position 10 while parsing:
    filepath.sp*
             ^^^
: filepath.sp* // 
// Error: line 1: Syntax error: unexpected end spl* at position 10 while parsing:
    filepath.spl*
             ^^^^
: filepath.spl* // 
// Error: line 1: Syntax error: unexpected end spli* at position 10 while parsing:
    filepath.spli*
             ^^^^^
: filepath.spli* // 
// Error: line 1: Syntax error: unexpected end spli* at position 10 while parsing:
    filepath.spli*
             ^^^^^
: filepath.spli* // 
// Error: line 1: Syntax error: unexpected end * at position 2 while parsing:
    .*
     ^
: .* // 
// Error: line 1: Syntax error: unexpected end * at position 2 while parsing:
    .*
     ^
: .* // 
// Error: line 1: Syntax error: unexpected end * at position 2 while parsing:
    .*
     ^
: .* // 
// Error: line 1: Syntax error: unexpected end * at position 2 while parsing:
    .*
     ^
: .* // 
// Error: line 1: Syntax error: unexpected end 0 at position 1 while parsing:
    0*
    ^
: 0* // 
filepath = cmds.file(q=True, sn=True).split('/')[-1]
filename_withoutextension = filepath.split('.')[0]
print filename_withoutextension
ANIM_MA_bakB2FHey01_00
currentTime 11 ;
select -r inputFile:maleAdultv1RIG:c_M_master_v1_CTRL inputFile:maleAdultv1RIG:c_M_pivot_v1_CTRL ;
select -cl  ;
select -r inputFile:maleAdultv1RIG:c_M_master_v1_CTRL ;
select -r inputFile:maleAdultv1RIG:c_M_pivot_v1_CTRL ;
select -r inputFile:maleAdultv1RIG:c_M_master_v1_CTRL ;
select -r inputFile:maleAdultv1RIG:c_M_pivot_v1_CTRL ;
import maya.cmds as mc
import json
import os

working_directory = 'R:\JX4_SourceData\Animation\Characters\MaleAdult_maya\Json_pose'
os.makedirs(working_directory)
os.chdir(working_directory)

ctrl_attr = {}
attr_value = {}

controllers =  mc.ls(type = "transform")
for ctrl in controllers:
	if 'CTRL' in ctrl or 'master' not in ctrl or 'pivot' not in ctrl:
		mc.select(ctrl)
		attrs = cmds.listAttr(k=True,u=True)
		ctrl_attr[ctrl] = {}

		if attrs != None:
			for attr in attrs:
				value = mc.getAttr(ctrl + '.' + attr)						
				ctrl_attr[ctrl][attr] = value
				
frame = mc.currentTime( query=True )

filename = cmds.file(q=True, sn=True).split('/')[-1]
filename_withoutExtension = filename.split('.')[0]
print filename_withoutExtension
with open(filename_withoutExtension + '#' + int(frame) + '.json','w') as outfile:
	json.dump(ctrl_attr,outfile,indent = 4)
	
# Error: line 1: 183
# Traceback (most recent call last):
#   File "<maya console>", line 6, in <module>
#   File "C:\Program Files\Autodesk\Maya2016\bin\python27.zip\os.py", line 157, in makedirs
#     mkdir(name, mode)
# WindowsError: [Error 183] : 'R:\\JX4_SourceData\\Animation\\Characters\\MaleAdult_maya\\Json_pose' # 

ctrl_attr = {}
attr_value = {}

controllers =  mc.ls(type = "transform")
for ctrl in controllers:
	if 'CTRL' in ctrl or 'master' not in ctrl or 'pivot' not in ctrl:
		mc.select(ctrl)
		attrs = cmds.listAttr(k=True,u=True)
		ctrl_attr[ctrl] = {}

		if attrs != None:
			for attr in attrs:
				value = mc.getAttr(ctrl + '.' + attr)						
				ctrl_attr[ctrl][attr] = value
				
frame = mc.currentTime( query=True )

filename = cmds.file(q=True, sn=True).split('/')[-1]
filename_withoutExtension = filename.split('.')[0]
print filename_withoutExtension
with open(filename_withoutExtension + '#' + int(frame) + '.json','w') as outfile:
	json.dump(ctrl_attr,outfile,indent = 4)
	
# Error: line 1: No object matches name: inputFile:maleAdultv1RIG:b_L_ankle_v1_ONT.target.targetWeight
# Traceback (most recent call last):
#   File "<maya console>", line 14, in <module>
# ValueError: No object matches name: inputFile:maleAdultv1RIG:b_L_ankle_v1_ONT.target.targetWeight # 

controllers =  mc.ls(type = "transform")
for ctrl in controllers:
	if 'CTRL' in ctrl :
		mc.select(ctrl)
		attrs = cmds.listAttr(k=True,u=True)
		ctrl_attr[ctrl] = {}

		if attrs != None:
			for attr in attrs:
				value = mc.getAttr(ctrl + '.' + attr)						
				ctrl_attr[ctrl][attr] = value
				
frame = mc.currentTime( query=True )

filename = cmds.file(q=True, sn=True).split('/')[-1]
filename_withoutExtension = filename.split('.')[0]
print filename_withoutExtension
with open(filename_withoutExtension + '#' + int(frame) + '.json','w') as outfile:
	json.dump(ctrl_attr,outfile,indent = 4)
	
ANIM_MA_bakB2FHey01_00
# Error: line 1: coercing to Unicode: need string or buffer, int found
# Traceback (most recent call last):
#   File "<maya console>", line 19, in <module>
# TypeError: coercing to Unicode: need string or buffer, int found # 
